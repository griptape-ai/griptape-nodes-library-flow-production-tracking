# /// script
# dependencies = []
# 
# [tool.griptape-nodes]
# name = "autodesk_flow_getting_started"
# schema_version = "0.13.0"
# engine_version_created_with = "0.63.7"
# node_libraries_referenced = [["Flow Production Tracking Library", "0.1.1"], ["Griptape Nodes Library", "0.50.0"]]
# node_types_used = [["Flow Production Tracking Library", "AutodeskFlowConfiguration"], ["Flow Production Tracking Library", "FlowListProjects"], ["Griptape Nodes Library", "Note"]]
# description = "Getting started with Autodesk Flow Production Tracking"
# is_griptape_provided = true
# is_template = true
# creation_date = 2025-11-17T23:00:26.221944Z
# last_modified_date = 2025-11-18T02:00:13.654217Z
# 
# ///

import pickle
from griptape_nodes.node_library.library_registry import IconVariant, NodeDeprecationMetadata, NodeMetadata
from griptape_nodes.retained_mode.events.connection_events import CreateConnectionRequest
from griptape_nodes.retained_mode.events.flow_events import CreateFlowRequest
from griptape_nodes.retained_mode.events.library_events import LoadLibrariesRequest
from griptape_nodes.retained_mode.events.node_events import CreateNodeGroupRequest, CreateNodeRequest
from griptape_nodes.retained_mode.events.parameter_events import AddParameterToNodeRequest, AlterParameterDetailsRequest, SetParameterValueRequest
from griptape_nodes.retained_mode.griptape_nodes import GriptapeNodes

GriptapeNodes.handle_request(LoadLibrariesRequest())

context_manager = GriptapeNodes.ContextManager()

if not context_manager.has_current_workflow():
    context_manager.push_workflow(workflow_name='autodesk_flow_getting_started')

"""
1. We've collated all of the unique parameter values into a dictionary so that we do not have to duplicate them.
   This minimizes the size of the code, especially for large objects like serialized image files.
2. We're using a prefix so that it's clear which Flow these values are associated with.
3. The values are serialized using pickle, which is a binary format. This makes them harder to read, but makes
   them consistently save and load. It allows us to serialize complex objects like custom classes, which otherwise
   would be difficult to serialize.
"""
top_level_unique_values_dict = {'e2e9eec1-5652-409b-b678-10616dd7033b': pickle.loads(b'\x80\x04\x95\xe5\x00\x00\x00\x00\x00\x00\x00\x8c\xe1\xe2\x9c\x85 Autodesk Flow configuration is valid!\n\n\xf0\x9f\x93\xa1 URL: https://griptape-ai.shotgrid.autodesk.com/\n\xf0\x9f\x94\x91 API Key: Tqkndfsx...adim\n\xf0\x9f\x93\x9d Script: gtn\n\xf0\x9f\x94\x90 Using API key authentication\n\n\xf0\x9f\x8e\x89 You can now use other Autodesk Flow nodes!\x94.'), 'ed44d71d-dd92-47ae-b76d-af93a46130b7': pickle.loads(b"\x80\x04\x95\xd1\x00\x00\x00\x00\x00\x00\x00\x8c\xcd## 1: Set your Autodesk Flow URL\n\nYou need to make sure you've got your Autodesk Flow Production Tracking URL. This will be saved with your configuration settings, so you should only need to set this once.\x94."), 'a5b9bd21-60bb-4902-86de-86da1e1fb34c': pickle.loads(b'\x80\x04\x95\xa2\x01\x00\x00\x00\x00\x00\x00X\x9b\x01\x00\x00# Getting Started - Configuration\n\nIn order to use these Autodesk Flow nodes you must be sure your Autodesk Flow Production Tracking setup is complete.\n\nThis requires entering your production URL, creating a script, and setting your api key.\n\nFollow the steps with this node to make sure it all works. \n\n*Note: You should only need to set these values once, and then further workflows should work without them.*\x94.'), 'db73b2fa-e31d-426e-a43c-71c67b6922fe': pickle.loads(b"\x80\x04\x95I\x01\x00\x00\x00\x00\x00\x00XB\x01\x00\x00## 2: Set the Script Name\n\nIn order to access your Flow site, you'll need to have a script setup. Check out the very helpful [online documentation](https://help.autodesk.com/view/SGDEV/ENU/?guid=SGD_py_python_api_create_manage_html) which will give you all the details.\n\nOnce you've created the script name, enter it here.\x94."), 'aa218227-39a0-4272-8d71-bfaacf7acfa5': pickle.loads(b"\x80\x04\x95\xe2\x00\x00\x00\x00\x00\x00\x00\x8c\xde## 3: API Key\n\nOnce you've got a script, you'll need to set your `SHOTGRID_API_KEY` in the Griptape Nodes [API Key and Secret Settings](#settings-secrets?filter=SHOTGRID_API_KEY).\n\nJust open the editor and paste the value.\x94."), '4cca6524-44ec-4db1-b5c9-9939d04d26fb': pickle.loads(b"\x80\x04\x95c\x02\x00\x00\x00\x00\x00\x00X\\\x02\x00\x00## 4: Check Configuration\n\nFinally, you can check your configuration by clicking the **Check Configuration** button. This will attempt to connect to Autodesk Flow and validate the API Key and Script work.\n\nSometimes you'll get a timeout error the first time you click it, so you might need to try it a second time.\n\nA correct message will come back with something like:\n\n```\n\xe2\x9c\x85 Autodesk Flow configuration is valid!\n\n\xf0\x9f\x93\xa1 URL: https://griptape-ai.shotgrid.autodesk.com/\n\xf0\x9f\x94\x91 API Key: Tqkndfsx...adim\n\xf0\x9f\x93\x9d Script: gtn\n\xf0\x9f\x94\x90 Using API key authentication\n\n\xf0\x9f\x8e\x89 You can now use other Autodesk Flow nodes!\n```\x94."), '7c65895b-57b0-4df8-8ad4-76659f9c274b': pickle.loads(b"\x80\x04\x95\x0f\x01\x00\x00\x00\x00\x00\x00X\x08\x01\x00\x00## Reviewing Results\n\nOnce you've run the node, the `project` parameter will have a list of your available projects.\n\nIf your project has changed once you've selected it (new thumbnail image, description, etc) just click **Refresh Selected** to update the results.\x94."), 'ae2a994b-f892-459a-a646-41d7ed6a02c5': pickle.loads(b"\x80\x04\x95\xd4\x00\x00\x00\x00\x00\x00\x00\x8c\xd0# Working with Projects\n\nOnce you are connected, you can start working with various elements in Autodesk Flow.\n\nWith these nodes, we'll demonstrate getting a list of projects, and getting project information.\x94."), '2a0d3951-d839-4cfd-92f8-65bd0677dc69': pickle.loads(b'\x80\x04\x95\x99\x00\x00\x00\x00\x00\x00\x00\x8c\x95## Getting a list of projects\n\nFirst make sure you have your `project_url` set correctly.\n\nThen **RUN** this node to get a list of all your projects.\x94.')}

'# Create the Flow, then do work within it as context.'

flow0_name = GriptapeNodes.handle_request(CreateFlowRequest(parent_flow_name=None, set_as_new_context=False, metadata={})).flow_name

with GriptapeNodes.ContextManager().flow(flow0_name):
    node0_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='AutodeskFlowConfiguration', specific_library_name='Flow Production Tracking Library', node_name='Autodesk Flow Configuration', metadata={'position': {'x': 351.6612087417799, 'y': 661.086050397425}, 'tempId': 'placing-1763418741646-q9a6xh', 'library_node_metadata': NodeMetadata(category='autodesk', description='Configure Autodesk Flow Production Tracking connection settings including URL, API key, and optional user credentials.', display_name='Autodesk Flow Configuration', tags=None, icon=None, color=None, group='configuration', deprecation=None), 'library': 'Flow Production Tracking Library', 'node_type': 'AutodeskFlowConfiguration', 'showaddparameter': False, 'size': {'width': 600, 'height': 1374}, 'category': 'autodesk'}, initial_setup=True)).node_name
    node1_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Note_1', metadata={'position': {'x': -269.7530020221959, 'y': 661.086050397425}, 'tempId': 'placing-1763418749829-j1ogey', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 600, 'height': 207}, 'category': 'misc'}, initial_setup=True)).node_name
    node2_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Getting Started', metadata={'position': {'x': -263.3387912582201, 'y': 345.01555144419524}, 'tempId': 'placing-1763418749829-j1ogey', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 1215, 'height': 285}, 'category': 'misc'}, initial_setup=True)).node_name
    node3_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Note_2', metadata={'position': {'x': -269.7530020221959, 'y': 907.3003001737349}, 'tempId': 'placing-1763418749829-j1ogey', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 600, 'height': 280}, 'category': 'misc'}, initial_setup=True)).node_name
    node4_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Note_3', metadata={'position': {'x': -269.7530020221959, 'y': 1214.236483700252}, 'tempId': 'placing-1763418749829-j1ogey', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 600, 'height': 227}, 'category': 'misc'}, initial_setup=True)).node_name
    node5_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Note_4', metadata={'position': {'x': -269.7530020221959, 'y': 1477.5979828681675}, 'tempId': 'placing-1763418749829-j1ogey', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 600, 'height': 545}, 'category': 'misc'}, initial_setup=True)).node_name
    node6_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Getting Started_1', metadata={'position': {'x': 1670.5060062521925, 'y': 957.2364837002519}, 'tempId': 'placing-1763418749829-j1ogey', 'library_node_metadata': {'category': 'misc', 'description': 'Create a note node to provide helpful context in your workflow'}, 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 603, 'height': 257}, 'category': 'misc'}, initial_setup=True)).node_name
    node7_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Getting Started_2', metadata={'position': {'x': 1662.7611590415536, 'y': 345.01555144419524}, 'tempId': 'placing-1763418749829-j1ogey', 'library_node_metadata': {'category': 'misc', 'description': 'Create a note node to provide helpful context in your workflow'}, 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 1243, 'height': 284}, 'category': 'misc'}, initial_setup=True)).node_name
    node8_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Getting Started_3', metadata={'position': {'x': 1670.5060062521925, 'y': 705.3003001737349}, 'tempId': 'placing-1763418749829-j1ogey', 'library_node_metadata': {'category': 'misc', 'description': 'Create a note node to provide helpful context in your workflow'}, 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 602, 'height': 202}, 'category': 'misc'}, initial_setup=True)).node_name
    node9_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='FlowListProjects', specific_library_name='Flow Production Tracking Library', node_name='List Projects', metadata={'library_node_metadata': {'category': 'autodesk', 'description': 'Griptape Node that lists all projects in ShotGrid.'}, 'library': 'Flow Production Tracking Library', 'node_type': 'FlowListProjects', 'position': {'x': 2298.376262009376, 'y': 672.7098306694367}, 'size': {'width': 600, 'height': 1184}, 'showaddparameter': False, 'category': 'autodesk'}, initial_setup=True)).node_name
    with GriptapeNodes.ContextManager().node(node0_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='configuration_status', node_name=node0_name, value=top_level_unique_values_dict['e2e9eec1-5652-409b-b678-10616dd7033b'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node1_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node1_name, value=top_level_unique_values_dict['ed44d71d-dd92-47ae-b76d-af93a46130b7'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node2_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node2_name, value=top_level_unique_values_dict['a5b9bd21-60bb-4902-86de-86da1e1fb34c'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node3_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node3_name, value=top_level_unique_values_dict['db73b2fa-e31d-426e-a43c-71c67b6922fe'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node4_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node4_name, value=top_level_unique_values_dict['aa218227-39a0-4272-8d71-bfaacf7acfa5'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node5_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node5_name, value=top_level_unique_values_dict['4cca6524-44ec-4db1-b5c9-9939d04d26fb'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node6_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node6_name, value=top_level_unique_values_dict['7c65895b-57b0-4df8-8ad4-76659f9c274b'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node7_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node7_name, value=top_level_unique_values_dict['ae2a994b-f892-459a-a646-41d7ed6a02c5'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node8_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node8_name, value=top_level_unique_values_dict['2a0d3951-d839-4cfd-92f8-65bd0677dc69'], initial_setup=True, is_output=False))
