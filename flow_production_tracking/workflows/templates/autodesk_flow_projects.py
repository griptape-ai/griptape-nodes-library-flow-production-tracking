# /// script
# dependencies = []
# 
# [tool.griptape-nodes]
# name = "autodesk_flow_projects"
# schema_version = "0.13.0"
# engine_version_created_with = "0.63.7"
# node_libraries_referenced = [["Flow Production Tracking Library", "0.1.1"], ["Griptape Nodes Library", "0.50.0"]]
# node_types_used = [["Flow Production Tracking Library", "FlowListProjects"], ["Flow Production Tracking Library", "FlowUpdateProject"], ["Griptape Nodes Library", "DisplayJson"], ["Griptape Nodes Library", "FluxImageGeneration"], ["Griptape Nodes Library", "JsonExtractValue"], ["Griptape Nodes Library", "MergeTexts"], ["Griptape Nodes Library", "Note"], ["Griptape Nodes Library", "TextInput"]]
# description = "Workflow for working with projects in Autodesk Flow Production Tracking"
# is_griptape_provided = true
# is_template = true
# creation_date = 2025-11-18T02:04:20.646124Z
# last_modified_date = 2025-11-18T02:04:20.657091Z
# 
# ///

import pickle
from griptape_nodes.node_library.library_registry import IconVariant, NodeDeprecationMetadata, NodeMetadata
from griptape_nodes.retained_mode.events.connection_events import CreateConnectionRequest
from griptape_nodes.retained_mode.events.flow_events import CreateFlowRequest
from griptape_nodes.retained_mode.events.library_events import LoadLibrariesRequest
from griptape_nodes.retained_mode.events.node_events import CreateNodeGroupRequest, CreateNodeRequest
from griptape_nodes.retained_mode.events.parameter_events import AddParameterToNodeRequest, AlterParameterDetailsRequest, SetParameterValueRequest
from griptape_nodes.retained_mode.griptape_nodes import GriptapeNodes

GriptapeNodes.handle_request(LoadLibrariesRequest())

context_manager = GriptapeNodes.ContextManager()

if not context_manager.has_current_workflow():
    context_manager.push_workflow(workflow_name='autodesk_flow_projects')

"""
1. We've collated all of the unique parameter values into a dictionary so that we do not have to duplicate them.
   This minimizes the size of the code, especially for large objects like serialized image files.
2. We're using a prefix so that it's clear which Flow these values are associated with.
3. The values are serialized using pickle, which is a binary format. This makes them harder to read, but makes
   them consistently save and load. It allows us to serialize complex objects like custom classes, which otherwise
   would be difficult to serialize.
"""
top_level_unique_values_dict = {'6f2519f4-ae91-49f8-9e27-53ed6a929b63': pickle.loads(b'\x80\x04\x95\x0f\x01\x00\x00\x00\x00\x00\x00X\x08\x01\x00\x00# Getting Started - Configuration\n\nIn order to use these Autodesk Flow nodes you must be sure your Autodesk Flow Production Tracking setup is complete.\n\nMake sure you have run the `Autodesk Flow Getting Started` workflow first, to ensure your settings are correct.\x94.'), 'dde4d4f4-0eba-4919-b45e-0067b4c3dd3e': pickle.loads(b"\x80\x04\x95\x0f\x01\x00\x00\x00\x00\x00\x00X\x08\x01\x00\x00## Reviewing Results\n\nOnce you've run the node, the `project` parameter will have a list of your available projects.\n\nIf your project has changed once you've selected it (new thumbnail image, description, etc) just click **Refresh Selected** to update the results.\x94."), '18549dbf-b68f-4883-bff5-44a1c8eac09c': pickle.loads(b"\x80\x04\x95\xd4\x00\x00\x00\x00\x00\x00\x00\x8c\xd0# Working with Projects\n\nOnce you are connected, you can start working with various elements in Autodesk Flow.\n\nWith these nodes, we'll demonstrate getting a list of projects, and getting project information.\x94."), '287fa5ab-035e-467b-8cc8-6a4ebe66d8c8': pickle.loads(b'\x80\x04\x95\x99\x00\x00\x00\x00\x00\x00\x00\x8c\x95## Getting a list of projects\n\nFirst make sure you have your `project_url` set correctly.\n\nThen **RUN** this node to get a list of all your projects.\x94.'), '7b40b0c0-a4a4-413a-9057-6985fae348f4': pickle.loads(b'\x80\x04\x95\x04\x00\x00\x00\x00\x00\x00\x00\x8c\x00\x94.'), '27006450-6cf7-4544-b954-f79f9c751a33': pickle.loads(b"\x80\x04\x95\x9d\x00\x00\x00\x00\x00\x00\x00\x8c\x99## Project Data\n\nThe `project_data` parameter can display various data about your project, including the name, description, and status if it's available.\x94."), '9a59d433-f20a-4c25-902c-fc6e2e65021e': pickle.loads(b'\x80\x04\x95\x08\x00\x00\x00\x00\x00\x00\x00\x8c\x04name\x94.'), 'a4fbe2f4-3d07-41ba-9ef9-25c08b5dc6dd': pickle.loads(b'\x80\x04}\x94.'), 'b7485e78-202c-45c8-b45b-96a6027b3316': pickle.loads(b"\x80\x04\x95\xd0\x00\x00\x00\x00\x00\x00\x00\x8c\xcc## Extracting Data\n\nIf you want specific information about a project, for example the current status, yo ucan use the `JSON Extract Value` node.\n\nNotice in this node we're extracting the `name` parameter.\x94."), 'c04abe8e-d598-46ed-abbd-255851c2da7c': pickle.loads(b"\x80\x04\x95\x0b\x01\x00\x00\x00\x00\x00\x00X\x04\x01\x00\x00# Updating a Project\n\nIf you would like to *update* a project, you can simply pass it the project id and then specify whatever parameters you'd like to update.\n\nIn this node we currently allow the name, code, description, and thumbnal - with more to come soon.\x94."), '856b556e-7ed0-4130-9f3a-961049dab8f0': pickle.loads(b'\x80\x04\x95\x07\x00\x00\x00\x00\x00\x00\x00\x8c\x03226\x94.'), '89d194d1-e53c-4a3f-a0e9-9763de25ba5c': pickle.loads(b'\x80\x04\x95@\x00\x00\x00\x00\x00\x00\x00\x8c<a rough production sketch for a movie poster for the title: \x94.'), '6cca0746-6462-44bc-87a7-d12e37791df6': pickle.loads(b'\x80\x04\x95\x06\x00\x00\x00\x00\x00\x00\x00\x8c\x02{}\x94.'), 'adba112f-9f6f-4871-955d-c1435f80a0fe': pickle.loads(b'\x80\x04\x95D\x00\x00\x00\x00\x00\x00\x00\x8c@a rough production sketch for a movie poster for the title: \n\n{}\x94.'), '09647fff-c63f-4519-9067-a9e36df740bf': pickle.loads(b'\x80\x04\x95@\x00\x00\x00\x00\x00\x00\x00\x8c<https://griptape-ai.shotgrid.autodesk.com/detail/Project/226\x94.')}

'# Create the Flow, then do work within it as context.'

flow0_name = GriptapeNodes.handle_request(CreateFlowRequest(parent_flow_name=None, set_as_new_context=False, metadata={})).flow_name

with GriptapeNodes.ContextManager().flow(flow0_name):
    node0_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Getting Started', metadata={'position': {'x': 1059.981933727393, 'y': 291.9079838665127}, 'tempId': 'placing-1763418749829-j1ogey', 'library_node_metadata': {'category': 'misc', 'description': 'Create a note node to provide helpful context in your workflow'}, 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 1215, 'height': 285}, 'category': 'misc'}, initial_setup=True)).node_name
    node1_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Getting Started_1', metadata={'position': {'x': 2553.001201597385, 'y': 907.3003001737349}, 'tempId': 'placing-1763418749829-j1ogey', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 603, 'height': 257}, 'category': 'misc'}, initial_setup=True)).node_name
    node2_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Getting Started_2', metadata={'position': {'x': 2553.001201597385, 'y': 291.9079838665127}, 'tempId': 'placing-1763418749829-j1ogey', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 1243, 'height': 284}, 'category': 'misc'}, initial_setup=True)).node_name
    node3_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Getting Started_3', metadata={'position': {'x': 2553.001201597385, 'y': 661.086050397425}, 'tempId': 'placing-1763418749829-j1ogey', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 602, 'height': 202}, 'category': 'misc'}, initial_setup=True)).node_name
    node4_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='DisplayJson', specific_library_name='Griptape Nodes Library', node_name='Display JSON', metadata={'position': {'x': 3949.5080619363907, 'y': 1257.22370774422}, 'tempId': 'placing-1763424010153-3avhrg', 'library_node_metadata': NodeMetadata(category='json', description='Display JSON data with automatic repair and formatting', display_name='Display JSON', tags=None, icon='eye', color=None, group='display', deprecation=None), 'library': 'Griptape Nodes Library', 'node_type': 'DisplayJson', 'showaddparameter': False, 'size': {'width': 699, 'height': 505}, 'category': 'json'}, initial_setup=True)).node_name
    node5_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Getting Started_4', metadata={'position': {'x': 3952.0080619363907, 'y': 960.2364837002519}, 'tempId': 'placing-1763418749829-j1ogey', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 694, 'height': 265}, 'category': 'misc'}, initial_setup=True)).node_name
    node6_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='JsonExtractValue', specific_library_name='Griptape Nodes Library', node_name='JSON Extract Value', metadata={'position': {'x': 4811.871208789204, 'y': 1257.22370774422}, 'tempId': 'placing-1763424099461-f866gx', 'library_node_metadata': NodeMetadata(category='json', description="Extract values from JSON using JMESPath expressions (e.g., '[*].assignee' for all assignees)", display_name='JSON Extract Value', tags=None, icon='search', color=None, group='describe', deprecation=None), 'library': 'Griptape Nodes Library', 'node_type': 'JsonExtractValue', 'showaddparameter': False, 'size': {'width': 600, 'height': 648}, 'category': 'json'}, initial_setup=True)).node_name
    node7_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Getting Started_5', metadata={'position': {'x': 4811.871208789204, 'y': 960.2364837002519}, 'tempId': 'placing-1763418749829-j1ogey', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 600, 'height': 254}, 'category': 'misc'}, initial_setup=True)).node_name
    node8_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Getting Started_6', metadata={'position': {'x': 6794.561825646391, 'y': 337.01555144419524}, 'tempId': 'placing-1763418749829-j1ogey', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 1243, 'height': 284}, 'category': 'misc'}, initial_setup=True)).node_name
    node9_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='TextInput', specific_library_name='Griptape Nodes Library', node_name='project_id', metadata={'position': {'x': 6794.561825646391, 'y': 682.542788404677}, 'tempId': 'placing-1763424560930-irxvfa', 'library_node_metadata': NodeMetadata(category='text', description='TextInput node', display_name='Text Input', tags=None, icon='text-cursor', color=None, group='create', deprecation=None), 'library': 'Griptape Nodes Library', 'node_type': 'TextInput', 'showaddparameter': False, 'size': {'width': 600, 'height': 236}, 'category': 'text'}, resolution='resolved', initial_setup=True)).node_name
    node10_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='MergeTexts', specific_library_name='Griptape Nodes Library', node_name='Merge Texts', metadata={'position': {'x': 6794.561825646391, 'y': 1021.0160515396906}, 'tempId': 'placing-1763424778811-wykk5h', 'library_node_metadata': NodeMetadata(category='text', description='MergeTexts node', display_name='Merge Texts', tags=None, icon='merge', color=None, group='merge', deprecation=None), 'library': 'Griptape Nodes Library', 'node_type': 'MergeTexts', 'showaddparameter': False, 'size': {'width': 600, 'height': 500}, 'category': 'text'}, initial_setup=True)).node_name
    node11_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='FlowListProjects', specific_library_name='Flow Production Tracking Library', node_name='List Projects', metadata={'library_node_metadata': NodeMetadata(category='autodesk', description='Griptape Node that lists all projects in ShotGrid.', display_name='List Projects', tags=None, icon=None, color=None, group='projects', deprecation=None), 'library': 'Flow Production Tracking Library', 'node_type': 'FlowListProjects', 'position': {'x': 3180.8714573545685, 'y': 621.0155514441952}, 'size': {'width': 600, 'height': 1184}}, initial_setup=True)).node_name
    node12_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='FluxImageGeneration', specific_library_name='Griptape Nodes Library', node_name='Flux Image Generation', metadata={'library_node_metadata': NodeMetadata(category='image', description='Generate images using Flux models via Griptape model proxy', display_name='Flux Image Generation', tags=None, icon='Zap', color=None, group='create', deprecation=None), 'library': 'Griptape Nodes Library', 'node_type': 'FluxImageGeneration', 'position': {'x': 7591.361066340438, 'y': 922.7237077442201}, 'size': {'width': 768, 'height': 1174}}, initial_setup=True)).node_name
    node13_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='FlowUpdateProject', specific_library_name='Flow Production Tracking Library', node_name='Update Project', metadata={'library_node_metadata': NodeMetadata(category='autodesk', description='Griptape Node that updates project information and thumbnail in ShotGrid. Can update name, code, description, and thumbnail image.', display_name='Update Project', tags=None, icon=None, color=None, group='projects', deprecation=None), 'library': 'Flow Production Tracking Library', 'node_type': 'FlowUpdateProject', 'position': {'x': 8505.940241082162, 'y': 682.542788404677}, 'size': {'width': 640, 'height': 1115}}, initial_setup=True)).node_name
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node4_name, source_parameter_name='json', target_node_name=node6_name, target_parameter_name='json', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node6_name, source_parameter_name='output', target_node_name=node10_name, target_parameter_name='input_2', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node11_name, source_parameter_name='project_data', target_node_name=node4_name, target_parameter_name='json', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node10_name, source_parameter_name='output', target_node_name=node12_name, target_parameter_name='prompt', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node9_name, source_parameter_name='text', target_node_name=node13_name, target_parameter_name='project_id', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node12_name, source_parameter_name='image_url', target_node_name=node13_name, target_parameter_name='thumbnail_image', initial_setup=True))
    with GriptapeNodes.ContextManager().node(node0_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node0_name, value=top_level_unique_values_dict['6f2519f4-ae91-49f8-9e27-53ed6a929b63'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node1_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node1_name, value=top_level_unique_values_dict['dde4d4f4-0eba-4919-b45e-0067b4c3dd3e'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node2_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node2_name, value=top_level_unique_values_dict['18549dbf-b68f-4883-bff5-44a1c8eac09c'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node3_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node3_name, value=top_level_unique_values_dict['287fa5ab-035e-467b-8cc8-6a4ebe66d8c8'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node4_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='json', node_name=node4_name, value=top_level_unique_values_dict['7b40b0c0-a4a4-413a-9057-6985fae348f4'], initial_setup=True, is_output=True))
    with GriptapeNodes.ContextManager().node(node5_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node5_name, value=top_level_unique_values_dict['27006450-6cf7-4544-b954-f79f9c751a33'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node6_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='path', node_name=node6_name, value=top_level_unique_values_dict['9a59d433-f20a-4c25-902c-fc6e2e65021e'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='output', node_name=node6_name, value=top_level_unique_values_dict['a4fbe2f4-3d07-41ba-9ef9-25c08b5dc6dd'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='output', node_name=node6_name, value=top_level_unique_values_dict['a4fbe2f4-3d07-41ba-9ef9-25c08b5dc6dd'], initial_setup=True, is_output=True))
    with GriptapeNodes.ContextManager().node(node7_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node7_name, value=top_level_unique_values_dict['b7485e78-202c-45c8-b45b-96a6027b3316'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node8_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node8_name, value=top_level_unique_values_dict['c04abe8e-d598-46ed-abbd-255851c2da7c'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node9_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='text', node_name=node9_name, value=top_level_unique_values_dict['856b556e-7ed0-4130-9f3a-961049dab8f0'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='text', node_name=node9_name, value=top_level_unique_values_dict['856b556e-7ed0-4130-9f3a-961049dab8f0'], initial_setup=True, is_output=True))
    with GriptapeNodes.ContextManager().node(node10_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_1', node_name=node10_name, value=top_level_unique_values_dict['89d194d1-e53c-4a3f-a0e9-9763de25ba5c'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_2', node_name=node10_name, value=top_level_unique_values_dict['6cca0746-6462-44bc-87a7-d12e37791df6'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='output', node_name=node10_name, value=top_level_unique_values_dict['adba112f-9f6f-4871-955d-c1435f80a0fe'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='output', node_name=node10_name, value=top_level_unique_values_dict['adba112f-9f6f-4871-955d-c1435f80a0fe'], initial_setup=True, is_output=True))
    with GriptapeNodes.ContextManager().node(node12_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='prompt', node_name=node12_name, value=top_level_unique_values_dict['adba112f-9f6f-4871-955d-c1435f80a0fe'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node13_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='project_id', node_name=node13_name, value=top_level_unique_values_dict['856b556e-7ed0-4130-9f3a-961049dab8f0'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='project_url', node_name=node13_name, value=top_level_unique_values_dict['09647fff-c63f-4519-9067-a9e36df740bf'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='project_url', node_name=node13_name, value=top_level_unique_values_dict['09647fff-c63f-4519-9067-a9e36df740bf'], initial_setup=True, is_output=True))
